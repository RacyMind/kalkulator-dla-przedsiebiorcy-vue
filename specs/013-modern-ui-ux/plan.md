# Implementation Plan: Nowoczesny UI/UX (Modern UI/UX Redesign)

**Branch**: `013-modern-ui-ux` | **Date**: 2026-02-07 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/013-modern-ui-ux/spec.md`

## Summary

Complete visual overhaul of the application: responsive layout with persistent sidebar on desktop, new dashboard with module tiles, two-column module pages, migrated components (`SectionHeader`, `ListRow`, `Menu`) to Quasar, donut charts, page transitions, skeleton loaders, design tokens extension, new app icon, and "Recently Used" sidebar section. **No calculation logic changes** — presentation layer only.

## Technical Context

**Language/Version**: TypeScript 5.9+ / Vue 3.5+
**Framework**: Quasar 2.18+ (UI components, SCSS variables, breakpoints)
**State Management**: Pinia 2.3+
**Testing**: Vitest 4.x
**Charts**: chart.js 4.5+ / vue-chartjs 5.3+
**Platform**: PWA + Capacitor (Android/iOS)
**Project Type**: SPA with 30 lazy-loaded routes
**UI Language**: Polish
**Key Dependencies**:
- `chart.js` + `vue-chartjs` — existing, upgrade to donut config
- `@vueuse/core` — existing, useful for `useLocalStorage`, `useScroll`
- Quasar `q-layout`, `q-drawer`, `q-expansion-item`, `q-card`, `q-item`, `q-skeleton`
- Existing composables: `usePieChart`, `useBarChart`, `useLineChart`, `useChartColors`, `useScrollToResults`, `useTheme`
- Existing stores: `breadcrumbStore`, `settingStore`, `eventStore`
- Existing partials: `ModulePageLayout`, `SectionHeader`, `ListRow`, `SubmitButton`, `Footer`, `Menu`, `Chart`, `PieChart`

**NEEDS CLARIFICATION**: None — all 9 clarifications resolved in spec.

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

Constitution file is a template (not project-specific). Applying implicit project rules from codebase analysis:

| Gate | Status | Notes |
|------|--------|-------|
| UI uses Quasar components | ✅ PASS | All new components use `q-*` |
| UI text in Polish | ✅ PASS | FR-020 mandates Polish |
| No calculation logic changes | ✅ PASS | FR-024 explicitly protects logic |
| All 410+ tests pass | ✅ PASS | FR-025 mandates test stability |
| Validation uses `validationRules` | ✅ PASS | No new forms — existing forms only get `outlined` variant |
| Changelog updated | ✅ REQUIRED | Major visual changes require changelog entry |

## Project Structure

### Documentation (this feature)

```text
specs/013-modern-ui-ux/
├── plan.md              # This file
├── research.md          # Research and analysis
├── data-model.md        # Data model (component interfaces)
├── quickstart.md        # Quick start guide
├── contracts/           # Component contracts
│   └── component-api.md # Props/events for changed components
└── tasks.md             # Task list (generated by /speckit.tasks)
```

### Source Code — Files to Create/Modify

```text
src/
├── assets/
│   └── app-icon.svg              # MODIFY — new icon design
├── components/
│   └── partials/
│       ├── ModulePageLayout.vue   # MODIFY — q-card, max-width 1200px, two-column
│       ├── SectionHeader.vue      # MODIFY — semantic heading with level prop
│       ├── ListRow.vue            # MODIFY — migrate to q-item/q-list
│       ├── Footer.vue             # MODIFY — minimal changes
│       ├── ScrollToTop.vue        # CREATE — q-page-sticky scroll-to-top button
│       ├── SkeletonLoader.vue     # CREATE — skeleton for lazy-loaded modules
│       ├── form/
│       │   └── SubmitButton.vue   # MODIFY — modern button style
│       ├── menu/
│       │   ├── Menu.vue           # MODIFY — q-expansion-item, icons, recently used
│       │   ├── menuItems.ts       # MODIFY — add icons and descriptions per module
│       │   └── RecentlyUsed.vue   # CREATE — recently used section
│       └── statistics/
│           └── PieChart.vue       # MODIFY — donut config, animations, tooltips
├── composables/
│   ├── usePieChart.ts             # MODIFY — donut cutout config
│   ├── useRecentlyUsed.ts         # CREATE — localStorage composable
│   └── useScrollToResults.ts      # EXISTING — no changes needed
├── css/
│   ├── _design-tokens.scss        # MODIFY — add spacing + border-radius tokens
│   ├── _transitions.scss          # CREATE — fade-scale page transition
│   └── app.scss                   # MODIFY — import new SCSS files
├── layouts/
│   └── MainLayout.vue             # MODIFY — persistent sidebar, always-visible header
├── pages/
│   └── Index.vue                  # MODIFY — dashboard with hero + tile grid
├── stores/
│   └── breadcrumbStore.ts         # MODIFY — hide breadcrumbs on home page
└── router/
    └── routes.ts                  # NO CHANGES — routes stay the same

public/
├── icons/                         # MODIFY — all ~26 PNG/ICO regenerated
└── favicon.ico                    # MODIFY — new icon

src-pwa/
└── manifest.json                  # MODIFY — theme_color, background_color

src-capacitor/
└── ios/App/App/Assets.xcassets/   # MODIFY — AppIcon + Splash
```

**Module Pattern**: Use `src/components/contractWork/` as reference for module page layout.

## Pre-Implementation Checklist

- [ ] No calculation logic modified (FR-024)
- [ ] All 410+ existing tests pass (FR-025)
- [ ] UI components use Quasar (FR-021)
- [ ] UI text in Polish (FR-020)
- [ ] All changes work in light and dark mode (FR-023)
- [ ] Design tokens extended (FR-022)
- [ ] Changelog updated in `src/components/changeLogs/logs.ts`
- [ ] New app icon SVG + all PNG variants generated (FR-026–FR-032)
- [ ] `manifest.json` colors updated (FR-028)
